'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _glMat = require('gl-mat4');

var _glMat2 = _interopRequireDefault(_glMat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function drawCommon(regl) {
  return regl({
    uniforms: {
      envmap: regl.prop('cube'),
      invView: function invView(_ref) {
        var view = _ref.view;
        return _glMat2.default.invert([], view);
      },

      'lights[0].color': [1, 0, 0],
      'lights[1].color': [0, 1, 0],
      'lights[2].color': [0, 0, 1],
      'lights[3].color': [1, 1, 0],
      'lights[0].position': function lights0Position(_ref2, _ref3) {
        var tick = _ref2.tick;
        var frame = _ref3.frame;

        var t = 0.3 * frame;
        return [20 * Math.cos(0.09 * t), 20 * Math.sin(0.09 * (2 * t)), 20 * Math.cos(0.09 * (3 * t))];
      },
      'lights[1].position': function lights1Position(_ref4, _ref5) {
        var tick = _ref4.tick;
        var frame = _ref5.frame;

        var t = 0.3 * frame;
        return [20 * Math.cos(0.05 * (5 * t + 1)), 20 * Math.sin(0.05 * (4 * t)), 20 * Math.cos(0.05 * (0.1 * t))];
      },
      'lights[2].position': function lights2Position(_ref6, _ref7) {
        var tick = _ref6.tick;
        var frame = _ref7.frame;

        var t = 0.3 * frame;
        return [20 * Math.cos(0.05 * (9 * t)), 20 * Math.sin(0.05 * (0.25 * t)), 20 * Math.cos(0.05 * (4 * t))];
      },
      'lights[3].position': function lights3Position(_ref8, _ref9) {
        var tick = _ref8.tick;
        var frame = _ref9.frame;

        var t = 0.3 * frame;
        return [10 * Math.cos(0.1 * (0.3 * t)), 10 * Math.sin(0.1 * (2.1 * t)), 10 * Math.cos(0.1 * (1.3 * t))];
      }
    }
  });
}

exports.default = drawCommon;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9kcmF3LWNvbW1vbi5qcyJdLCJuYW1lcyI6WyJkcmF3Q29tbW9uIiwicmVnbCIsInVuaWZvcm1zIiwiZW52bWFwIiwicHJvcCIsImludlZpZXciLCJ2aWV3IiwiaW52ZXJ0IiwidGljayIsImZyYW1lIiwidCIsIk1hdGgiLCJjb3MiLCJzaW4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOzs7Ozs7QUFFQSxTQUFTQSxVQUFULENBQXFCQyxJQUFyQixFQUEyQjtBQUN6QixTQUFPQSxLQUFLO0FBQ1ZDLGNBQVU7QUFDUkMsY0FBUUYsS0FBS0csSUFBTCxDQUFVLE1BQVYsQ0FEQTtBQUVSQyxlQUFTO0FBQUEsWUFBR0MsSUFBSCxRQUFHQSxJQUFIO0FBQUEsZUFBYyxnQkFBS0MsTUFBTCxDQUFZLEVBQVosRUFBZ0JELElBQWhCLENBQWQ7QUFBQSxPQUZEOztBQUlSLHlCQUFtQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUpYO0FBS1IseUJBQW1CLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLENBTFg7QUFNUix5QkFBbUIsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsQ0FOWDtBQU9SLHlCQUFtQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQVBYO0FBUVIsNEJBQXNCLHVDQUF5QjtBQUFBLFlBQXRCRSxJQUFzQixTQUF0QkEsSUFBc0I7QUFBQSxZQUFaQyxLQUFZLFNBQVpBLEtBQVk7O0FBQzdDLFlBQU1DLElBQUksTUFBTUQsS0FBaEI7QUFDQSxlQUFPLENBQ0wsS0FBS0UsS0FBS0MsR0FBTCxDQUFTLE9BQVFGLENBQWpCLENBREEsRUFFTCxLQUFLQyxLQUFLRSxHQUFMLENBQVMsUUFBUSxJQUFJSCxDQUFaLENBQVQsQ0FGQSxFQUdMLEtBQUtDLEtBQUtDLEdBQUwsQ0FBUyxRQUFRLElBQUlGLENBQVosQ0FBVCxDQUhBLENBQVA7QUFLRCxPQWZPO0FBZ0JSLDRCQUFzQix1Q0FBeUI7QUFBQSxZQUF0QkYsSUFBc0IsU0FBdEJBLElBQXNCO0FBQUEsWUFBWkMsS0FBWSxTQUFaQSxLQUFZOztBQUM3QyxZQUFNQyxJQUFJLE1BQU1ELEtBQWhCO0FBQ0EsZUFBTyxDQUNMLEtBQUtFLEtBQUtDLEdBQUwsQ0FBUyxRQUFRLElBQUlGLENBQUosR0FBUSxDQUFoQixDQUFULENBREEsRUFFTCxLQUFLQyxLQUFLRSxHQUFMLENBQVMsUUFBUSxJQUFJSCxDQUFaLENBQVQsQ0FGQSxFQUdMLEtBQUtDLEtBQUtDLEdBQUwsQ0FBUyxRQUFRLE1BQU1GLENBQWQsQ0FBVCxDQUhBLENBQVA7QUFLRCxPQXZCTztBQXdCUiw0QkFBc0IsdUNBQXlCO0FBQUEsWUFBdEJGLElBQXNCLFNBQXRCQSxJQUFzQjtBQUFBLFlBQVpDLEtBQVksU0FBWkEsS0FBWTs7QUFDN0MsWUFBTUMsSUFBSSxNQUFNRCxLQUFoQjtBQUNBLGVBQU8sQ0FDTCxLQUFLRSxLQUFLQyxHQUFMLENBQVMsUUFBUSxJQUFJRixDQUFaLENBQVQsQ0FEQSxFQUVMLEtBQUtDLEtBQUtFLEdBQUwsQ0FBUyxRQUFRLE9BQU9ILENBQWYsQ0FBVCxDQUZBLEVBR0wsS0FBS0MsS0FBS0MsR0FBTCxDQUFTLFFBQVEsSUFBSUYsQ0FBWixDQUFULENBSEEsQ0FBUDtBQUtELE9BL0JPO0FBZ0NSLDRCQUFzQix1Q0FBeUI7QUFBQSxZQUF0QkYsSUFBc0IsU0FBdEJBLElBQXNCO0FBQUEsWUFBWkMsS0FBWSxTQUFaQSxLQUFZOztBQUM3QyxZQUFNQyxJQUFJLE1BQU1ELEtBQWhCO0FBQ0EsZUFBTyxDQUNMLEtBQUtFLEtBQUtDLEdBQUwsQ0FBUyxPQUFPLE1BQU1GLENBQWIsQ0FBVCxDQURBLEVBRUwsS0FBS0MsS0FBS0UsR0FBTCxDQUFTLE9BQU8sTUFBTUgsQ0FBYixDQUFULENBRkEsRUFHTCxLQUFLQyxLQUFLQyxHQUFMLENBQVMsT0FBTyxNQUFNRixDQUFiLENBQVQsQ0FIQSxDQUFQO0FBS0Q7QUF2Q087QUFEQSxHQUFMLENBQVA7QUEyQ0Q7O2tCQUVjVixVIiwiZmlsZSI6ImRyYXctY29tbW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1hdDQgZnJvbSAnZ2wtbWF0NCdcblxuZnVuY3Rpb24gZHJhd0NvbW1vbiAocmVnbCkge1xuICByZXR1cm4gcmVnbCh7XG4gICAgdW5pZm9ybXM6IHtcbiAgICAgIGVudm1hcDogcmVnbC5wcm9wKCdjdWJlJyksXG4gICAgICBpbnZWaWV3OiAoeyB2aWV3IH0pID0+IG1hdDQuaW52ZXJ0KFtdLCB2aWV3KSxcblxuICAgICAgJ2xpZ2h0c1swXS5jb2xvcic6IFsxLCAwLCAwXSxcbiAgICAgICdsaWdodHNbMV0uY29sb3InOiBbMCwgMSwgMF0sXG4gICAgICAnbGlnaHRzWzJdLmNvbG9yJzogWzAsIDAsIDFdLFxuICAgICAgJ2xpZ2h0c1szXS5jb2xvcic6IFsxLCAxLCAwXSxcbiAgICAgICdsaWdodHNbMF0ucG9zaXRpb24nOiAoeyB0aWNrIH0sIHsgZnJhbWUgfSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gMC4zICogZnJhbWVcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAyMCAqIE1hdGguY29zKDAuMDkgKiAodCkpLFxuICAgICAgICAgIDIwICogTWF0aC5zaW4oMC4wOSAqICgyICogdCkpLFxuICAgICAgICAgIDIwICogTWF0aC5jb3MoMC4wOSAqICgzICogdCkpXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICAnbGlnaHRzWzFdLnBvc2l0aW9uJzogKHsgdGljayB9LCB7IGZyYW1lIH0pID0+IHtcbiAgICAgICAgY29uc3QgdCA9IDAuMyAqIGZyYW1lXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgMjAgKiBNYXRoLmNvcygwLjA1ICogKDUgKiB0ICsgMSkpLFxuICAgICAgICAgIDIwICogTWF0aC5zaW4oMC4wNSAqICg0ICogdCkpLFxuICAgICAgICAgIDIwICogTWF0aC5jb3MoMC4wNSAqICgwLjEgKiB0KSlcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgICdsaWdodHNbMl0ucG9zaXRpb24nOiAoeyB0aWNrIH0sIHsgZnJhbWUgfSkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gMC4zICogZnJhbWVcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAyMCAqIE1hdGguY29zKDAuMDUgKiAoOSAqIHQpKSxcbiAgICAgICAgICAyMCAqIE1hdGguc2luKDAuMDUgKiAoMC4yNSAqIHQpKSxcbiAgICAgICAgICAyMCAqIE1hdGguY29zKDAuMDUgKiAoNCAqIHQpKVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgJ2xpZ2h0c1szXS5wb3NpdGlvbic6ICh7IHRpY2sgfSwgeyBmcmFtZSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSAwLjMgKiBmcmFtZVxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIDEwICogTWF0aC5jb3MoMC4xICogKDAuMyAqIHQpKSxcbiAgICAgICAgICAxMCAqIE1hdGguc2luKDAuMSAqICgyLjEgKiB0KSksXG4gICAgICAgICAgMTAgKiBNYXRoLmNvcygwLjEgKiAoMS4zICogdCkpXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IGRyYXdDb21tb25cbiJdfQ==